# WordPress .htaccess for /blog subdirectory setup
RewriteEngine On

# Handle WordPress admin and login redirects
RewriteCond %{REQUEST_URI} ^/wp-admin/?(.*)$ [NC]
RewriteRule ^(.*)$ /blog/wp-admin/%1 [R=301,L]

RewriteCond %{REQUEST_URI} ^/wp-login\.php(.*)$ [NC]
RewriteRule ^(.*)$ /blog/wp-login.php%1 [R=301,L]

# Handle other WordPress core files
RewriteCond %{REQUEST_URI} ^/wp-(.*)$ [NC]
RewriteRule ^wp-(.*)$ /blog/wp-$1 [R=301,L]

# Standard WordPress permalink structure
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]